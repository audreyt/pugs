# --------------------------------------------------------------------------- #
# Sequence Class
# --------------------------------------------------------------------------- #
# - An Immutable Sequence class
# --------------------------------------------------------------------------- #

^Sequence := ^Class.new({});
^Sequence.set_name('Sequence');
^Sequence.set_version('0.0.1');
^Sequence.set_authority('url:pugscode.org');

^Sequence.set_roles([ ^Seq ]);

^Sequence.set_superclasses([ ^Object ]);

^Sequence.add_method('new', -> @sequence {
	self.bless('p6array', @sequence);
});

# this needs to be null for this class because
# we don't want 
^Sequence.add_method('BUILDALL', -> %params {});

# --------------------------------------------------------------------------- #
# ^Seq requires that these roles be implemented

^Sequence.add_private_method('head', -> { self`fetch(0) });
^Sequence.add_private_method('tail', -> { 
	$?CLASS.new(self`as_seq()`splice(1)) 
});
